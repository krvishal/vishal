<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>TODO List </title>
  <script src="js/react.min.js"></script>
  <script src="js/react-dom.min.js"></script>
  <script src="js/babel.min.js"></script>
  <!-- <script src="bootstrap/jquery-3.1.1.js"></script> -->
  <script src="bootstrap/lodash.js"></script>
  <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <div class="container" style="margin-top:100px">
      <div class="col-md-3"></div>
        <div id="container"></div>
  </div>
  <script type="text/babel">

      class List extends React.Component{
        constructor(props){
          super(props);
          this.state={
            isChecked:false
          };
          this.handleChange=this.handleChange.bind(this);
        }
        handleChange(){
          let checkBadge=this.state.isChecked==false?true:false;
          this.setState({isChecked:checkBadge});
        }

        render(){
          var Badge=this.state.isChecked==true?<span className="badge">Completed</span>:"";
          //console.log(this.state.isChecked);
          return(
            <li className="list-group-item">
            <input type="checkbox" onChange={this.handleChange} name="isChecked"  className="form-check-input"/>   {this.props.name} {Badge}
            </li>
          );
        }
      }
      //add form
    class AddTodo extends React.Component{
      constructor(props){
        super(props);
        this.state={
          input:''
        };
        this.addTodo=this.addTodo.bind(this);
        this.handleClick=this.handleClick.bind(this);
      }
      addTodo(e){
        this.setState({input : e.target.value});
      }
      handleClick(){
         let name= this.state.input;
         this.props.handleClick(name);
      }
      render(){
        return(
          <form >
            <div className="form-group">
              <label>TODO</label>
              <br />
              <input type='text' className="form-control" onChange={this.addTodo} placeholder="Your Todo.." />
            </div>
            <button type="submit" className="btn btn-default" onClick={this.handleClick}>Submit</button>
          </form>
        );
      }
    }
    //display result
    class InputText extends React.Component{
      constructor(){
        super();
        this.state={
          lists:'hello'
        };
      }
    GetName (newName){
        console.log(newName);
          this.setState({lists : newName});
      }
      render(){
        return(
          <div className="col-md-5" >
            <label>TODO App</label>
            <br />
            <ul type="none" className="list-group">
              <List name={this.state.lists} />
            </ul>
          <AddTodo  handleClick={this.GetName}/>
          </div>
        );
      }
    }

    ReactDOM.render(<InputText />,document.getElementById('container'));
  </script>
</body>
</html>
